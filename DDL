// create Table PROMOTION

create or replace table T_PROMOTION (
PROMOTION_ID VARCHAR(10)UNIQUE,
CUSTOMER_CATEGORY VARCHAR(10),
PROMOTION_TYPE VARCHAR(10),
PROMOTION_VALUE	NUMBER(10,2),
COMMENT	VARCHAR(20),
primary key(PROMOTION_ID));

// Create View PROMOTION

create or replace view V_PROMOTION (
PROMOTION_ID, CUSTOMER_CATEGORY, PROMOTION_TYPE, PROMOTION_VALUE, COMMENT)
as Select * from order_process.ORDER_BASE.T_PROMOTION;


// Create Table T_CUSTOMER

create or replace table T_CUSTOMER (
CUSTOMER_ID	VARCHAR(10),
ADDRESS	VARCHAR(50),
PHONE_NO VARCHAR(10),
CATEGORY VARCHAR(10),
STATUS VARCHAR(10),
TOTAL_ORDERS INTEGER,
TOTAL_INVOICE_AMOUNT NUMBER(12,2),
LOYALTY_POINTS	NUMBER(10),
CREATE_DATE	DATE,
CREATE_USER	VARCHAR(10),
primary key(CUSTOMER_ID)
);


// Create View V_CUSTOMER

create or replace view V_CUSTOMER (CUSTOMER_ID, ADDRESS, PHONE_NO, CATEGORY, STATUS, TOTAL_ORDERS,
TOTAL_INVOICE_AMOUNT, LOYALTY_POINTS, CREATE_DATE, CREATE_USER) as
Select * from order_process.ORDER_BASE.T_CUSTOMER
Where STATUS = 'Active';


// create Table T_SALES_ORDER_DETAIL

CREATE OR REPLACE TABLE T_SALES_ORDER_DETAIL (
    ORDER_ID VARCHAR(10) NOT NULL,
    ORDER_DATE DATE,
    CUSTOMER_ID VARCHAR(10),
    ITEM_ID VARCHAR(10),
    QTY INTEGER,
    PRICE NUMBER(12,2),
    TOTAL_AMOUNT NUMBER(12,2),
    CREATE_DATE DATE,
    CREATE_USER VARCHAR(10),
    PRIMARY KEY (ITEM_ID),
    CONSTRAINT ITEM_ID UNIQUE ITEM_ID
);


// Create View  V_SALES_ORDER_DETAIL

create or replace View V_SALES_ORDER_DETAIL (ORDER_ID, ORDER_DATE, CUSTOMER_ID, ITEM_ID, QTY,
Total_Amount, CREATE_DATE, CREATE_USER, PRICE) as select * from order_process.ORDER_BASE.T_SALES_ORDER_DETAIL;


// Create Table T_SALES_ORDER_HEADER

create or replace table T_SALES_ORDER_HEADER (
ORDER_ID  varchar(10) primary key not null,
ORDER_DATE date,
STATUS varchar(10),
CUSTOMER_ID varchar(10),
ITEM_COUNT int,
TOTAL_AMOUNT number(12,2),
DISCOUNT Number(12,2),
COUPON_CODE Varchar(10),
CREATE_DATE date,
CREATE_USER varchar(10),
UNIQUE(ORDER_ID,CUSTOMER_ID) ENFORCED
);

// Create View V_SALES_ORDER_HDR

create or Replace view V_SALES_ORDER_HDR (ORDER_ID, ORDER_DATE, STATUS, CUSTOMER_ID, ITEM_COUNT, TOTAL_AMOUNT, DISCOUNT, COUPON_CODE, CREATE_DATE, CREATE_USER) as 
select * from order_process.ORDER_BASE.T_SALES_ORDER_HEADER 
Where order_date > CURRENT_DATE;


// Create Table T_Invoice

Create or replace table T_Invoice(
     ORDER_ID Varchar(10),
     ORDER_DATE Date,
     INVOICE_DATE Date,
     TAX_AMOUNT Number(12,2),
     TOTAL_AMOUNT NUMBER(12,2),
     DISCOUNT Number(12,2),
     FINAL_INVOICE_AMT Number(12,2),
     CUSTOMER_ID varchar(10),
     CREATE_DATE Date,
     CREATE_USER Varchar(10));


// Create View V_Invoice

create or replace view V_Invoice (ORDER_ID, ORDER_DATE, INVOICE_DATE, TAX_AMOUNT, TOTAL_AMOUNT, DISCOUNT, FINAL_INVOICE_AMT, CUSTOMER_ID, CREATE_DATE, CREATE_USER) as
Select * from order_process.ORDER_BASE.T_INVOICE;
